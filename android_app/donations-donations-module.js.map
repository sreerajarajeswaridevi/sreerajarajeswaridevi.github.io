{"version":3,"sources":["./src/app/donations/containers/donations.component.html","./src/app/donations/containers/donations.component.scss","./src/app/donations/containers/donations.component.ts","./src/app/donations/donations-routing.module.ts","./src/app/donations/donations.module.ts","./src/app/donations/services/donations.service.ts","./src/app/donations/store/donations.actions.ts","./src/app/donations/store/donations.effects.ts","./src/app/donations/store/donations.reducer.ts","./src/app/donations/store/donations.selectors.ts","./src/app/donations/store/donations.state.ts"],"names":[],"mappings":"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","file":"donations-donations-module.js","sourcesContent":["export default \"<app-split-body [isLoading$]=\\\"isLoading$\\\">\\r\\n  <div class=\\\"left-section\\\">\\r\\n    <div class=\\\"white px-4 section-header\\\">\\r\\n      <h3>Donation LIST</h3>\\r\\n      <p class=\\\"grey-text pt-3\\\">Manage your Donations list</p>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"right-section\\\">\\r\\n    <div *ngIf=\\\"isLoading$ | async\\\" class=\\\"d-flex justify-content-center align-items-center\\\" style=\\\"margin-top: 200px\\\">\\r\\n      <div class=\\\"spinner-grow text-primary\\\" role=\\\"status\\\" style=\\\"width: 4rem; height: 4rem;\\\">\\r\\n        <span class=\\\"sr-only\\\">Loading...</span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</app-split-body>\\r\\n\\r\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RvbmF0aW9ucy9jb250YWluZXJzL2RvbmF0aW9ucy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { AppState } from 'src/app/reducers';\r\nimport { getIsLoading } from '../store/donations.selectors';\r\n\r\n@Component({\r\n  selector: 'app-donations',\r\n  templateUrl: './donations.component.html',\r\n  styleUrls: ['./donations.component.scss']\r\n})\r\nexport class DonationsComponent implements OnInit {\r\n  isLoading$: Observable<boolean>;\r\n\r\n  constructor(\r\n    private store: Store<AppState>,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.isLoading$ = this.store.select(getIsLoading);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DonationsComponent } from './containers/donations.component';\r\n\r\nconst routes: Routes = [{ path: '', component: DonationsComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class DonationsRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { DonationsRoutingModule } from './donations-routing.module';\r\nimport { DonationsComponent } from './containers/donations.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ButtonsModule, InputsModule, TableModule, IconsModule, ModalModule } from 'angular-bootstrap-md';\r\n\r\nimport * as fromDonations from './store/donations.reducer';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { DonationsEffects } from './store/donations.effects';\r\nimport { CoreModule } from '../core/core.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    DonationsRoutingModule,\r\n    ModalModule,\r\n    FormsModule,\r\n    ButtonsModule,\r\n    InputsModule,\r\n    IconsModule,\r\n    TableModule,\r\n    CoreModule,\r\n    StoreModule.forFeature('donations', fromDonations.DonationsReducer),\r\n    EffectsModule.forFeature([DonationsEffects])\r\n  ],\r\n  declarations: [DonationsComponent],\r\n  exports: [DonationsComponent]\r\n})\r\nexport class DonationsModule { }\r\n","import { Injectable } from '@angular/core';\r\n// import { AngularFireDatabase } from '@angular/fire/database';\r\nimport { Donations } from '../models/donations.model';\r\nimport { of } from 'rxjs';\r\n// import { AngularFireAuth } from '@angular/fire/auth';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DonationsService {\r\n\r\n  constructor() { }\r\n\r\n  get userId() {\r\n    return 'uid';\r\n  }\r\n\r\n  add(donations: Donations, userId: string) {\r\n    return of([donations, userId]);\r\n\r\n  }\r\n\r\n  addDonations(donationss: Donations[]) {\r\n    return of(donationss);\r\n\r\n  }\r\n\r\n  get(userId: string) {\r\n    return of(userId);\r\n\r\n  }\r\n\r\n  update(donations: Donations, userId: string) {\r\n    return of([donations, userId]);\r\n\r\n  }\r\n\r\n  delete(donations: Donations, userId: string) {\r\n    return of([donations, userId]);\r\n\r\n  }\r\n}\r\n","import { Action } from '@ngrx/store';\r\nimport { Donations } from '../models/donations.model';\r\n\r\nexport enum DonationsActionTypes {\r\n  POOJAS_QUERY = '[Donations] Query',\r\n  POOJAS_LOADED = '[Donations] Fetched',\r\n\r\n  POOJAS_ADDED = '[Donations] Added',\r\n  POOJAS_EDITED = '[Donations] Edited',\r\n  POOJAS_DELETED = '[Donations] Deleted',\r\n\r\n  POOJAS_ERROR = '[Donations] Error'\r\n}\r\n\r\nexport class DonationsQuery implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_QUERY;\r\n}\r\n\r\nexport class DonationsLoaded implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_LOADED;\r\n\r\n  constructor(public payload: { Donations: Donations[] }) {}\r\n}\r\n\r\nexport class DonationsAdded implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_ADDED;\r\n\r\n  constructor(public payload: { donations: Donations }) {}\r\n}\r\n\r\nexport class DonationsEdited implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_EDITED;\r\n\r\n  constructor(public payload: { donations: Donations }) {}\r\n}\r\n\r\nexport class DonationsDeleted implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_DELETED;\r\n\r\n  constructor(public payload: { donations: Donations }) {}\r\n}\r\n\r\nexport class DonationsError implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_ERROR;\r\n\r\n  constructor(public payload: { error: any }) {}\r\n}\r\n\r\nexport type DonationsActions =\r\n  | DonationsQuery\r\n  | DonationsLoaded\r\n  | DonationsAdded\r\n  | DonationsEdited\r\n  | DonationsDeleted\r\n  | DonationsError;\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { DonationsService } from '../services/donations.service';\r\nimport { DonationsActionTypes } from './donations.actions';\r\nimport { switchMap, map, catchError, withLatestFrom } from 'rxjs/operators';\r\nimport { Donations } from '../models/donations.model';\r\n\r\nimport * as fromDonations from './donations.actions';\r\nimport { of } from 'rxjs';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { AppState } from '../../reducers/index';\r\nimport { getUser } from '../../auth/store/auth.selectors';\r\n\r\n@Injectable()\r\nexport class DonationsEffects {\r\n\r\n  constructor(private actions$: Actions, private donationsService: DonationsService, private store: Store<AppState>) {}\r\n\r\n  @Effect()\r\n  query$ = this.actions$.pipe(\r\n    ofType(DonationsActionTypes.POOJAS_QUERY),\r\n    withLatestFrom(this.store.pipe(select(getUser))),\r\n    switchMap(([, user]: any) => this.donationsService.get(user.temple)\r\n      .pipe(\r\n        map((data: any) => {\r\n          const DonationsData: Donations[] = data.map((res: any) => {\r\n            const key = res.payload.key;\r\n            const customer: Donations = res.payload.val();\r\n            return {\r\n              key: key,\r\n              id: customer.id,\r\n              name: customer.name,\r\n              description: customer.description\r\n            };\r\n          });\r\n          return (new fromDonations.DonationsLoaded({ Donations: DonationsData }));\r\n        }),\r\n        catchError(error => {\r\n          return of(new fromDonations.DonationsError({ error }));\r\n        })\r\n      )\r\n    ),\r\n  );\r\n\r\n  @Effect({ dispatch: false })\r\n  added$ = this.actions$.pipe(\r\n    ofType(DonationsActionTypes.POOJAS_ADDED),\r\n    map((action: fromDonations.DonationsAdded) => action.payload),\r\n    withLatestFrom(this.store.pipe(select(getUser))),\r\n    switchMap(([payload, user]: any) => this.donationsService.add(payload.customer, user.temple))\r\n  );\r\n\r\n  @Effect({ dispatch: false })\r\n  edit$ = this.actions$.pipe(\r\n    ofType(DonationsActionTypes.POOJAS_EDITED),\r\n    map((action: fromDonations.DonationsEdited) => action.payload),\r\n    withLatestFrom(this.store.pipe(select(getUser))),\r\n    switchMap(([payload, user]: any) => this.donationsService.update(payload.customer, user.temple)\r\n    .pipe(\r\n      catchError( error => {\r\n      return of(new fromDonations.DonationsError({ error }));\r\n    }))\r\n    )\r\n  );\r\n\r\n  @Effect({ dispatch: false })\r\n  delete$ = this.actions$.pipe(\r\n    ofType(DonationsActionTypes.POOJAS_DELETED),\r\n    map((action: fromDonations.DonationsDeleted) => action.payload),\r\n    withLatestFrom(this.store.pipe(select(getUser))),\r\n    switchMap(([payload, user]: any) => this.donationsService.delete(payload.customer, user.temple))\r\n  );\r\n}\r\n","import { DonationsInitialState, DonationsState } from './donations.state';\r\nimport { DonationsActions, DonationsActionTypes } from './donations.actions';\r\n\r\nexport function DonationsReducer(state = DonationsInitialState, action: DonationsActions): DonationsState {\r\n  switch (action.type) {\r\n\r\n    case DonationsActionTypes.POOJAS_QUERY: {\r\n      return Object.assign({}, state, {\r\n        isLoading: true,\r\n      });\r\n    }\r\n\r\n    case DonationsActionTypes.POOJAS_LOADED: {\r\n      return Object.assign({}, state, {\r\n        Donations: action.payload.Donations,\r\n        isLoading: false,\r\n      });\r\n    }\r\n\r\n    case DonationsActionTypes.POOJAS_ERROR: {\r\n      return Object.assign({}, state, {\r\n        isLoading: false,\r\n        error: action.payload.error\r\n      });\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createSelector, createFeatureSelector } from '@ngrx/store';\r\nimport { DonationsState } from './donations.state';\r\n\r\nexport const getDonationsState = createFeatureSelector<DonationsState>('donations');\r\n\r\nexport const getDonations = createSelector(\r\n  getDonationsState,\r\n  donations => donations.donations\r\n);\r\n\r\nexport const getIsLoading = createSelector(\r\n  getDonationsState,\r\n  donations => donations.isLoading\r\n);\r\n\r\nexport const getError = createSelector(\r\n  getDonationsState,\r\n  donations => donations.error\r\n);\r\n","import { Donations } from '../models/donations.model';\r\n\r\nexport interface DonationsState {\r\n    donations: Donations[] | null;\r\n    isLoading: boolean;\r\n    error: any;\r\n}\r\n\r\nexport const DonationsInitialState: DonationsState = {\r\n    donations: null,\r\n    isLoading: true,\r\n    error: null\r\n};\r\n"],"sourceRoot":"webpack:///"}