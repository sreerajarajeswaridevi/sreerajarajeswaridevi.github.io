{"version":3,"sources":["./src/app/donations/containers/donations.component.html","./src/app/donations/containers/donations.component.scss","./src/app/donations/containers/donations.component.ts","./src/app/donations/donations-routing.module.ts","./src/app/donations/donations.module.ts","./src/app/donations/services/donations.service.ts","./src/app/donations/store/donations.actions.ts","./src/app/donations/store/donations.effects.ts","./src/app/donations/store/donations.reducer.ts","./src/app/donations/store/donations.selectors.ts","./src/app/donations/store/donations.state.ts"],"names":[],"mappings":"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","file":"donations-donations-module.js","sourcesContent":["export default \"<app-split-body [isLoading$]=\\\"!isLoading$\\\">\\n  <div class=\\\"left-section\\\">\\n    <mdb-card>\\n      <mdb-card-header class=\\\"w-100 d-flex justify-space-between bg-primary white-text\\\">\\n        <div>\\n          <blockquote class=\\\"text-left  blockquote bq-success\\\">\\n            <h3 class=\\\"header\\\">Add Donations</h3>\\n            <p class=\\\"py-0\\\" *ngIf=\\\"donationForm.valid\\\">Adding a donation of <span class=\\\"price\\\">&#x20B9;{{donationForm?.value.amount}}</span> from {{donationForm?.value.name}}</p>\\n          </blockquote>\\n        </div>\\n        <button mdbWavesEffect mdbBtn type=\\\"button\\\" rounded=\\\"true\\\" color=\\\"white\\\" class=\\\"pull-right text-lg btn-primary\\\" rrDatePicker [date]=\\\"donationDate\\\" [endDate]=\\\"endDate\\\" [startDate]=\\\"startDate\\\"\\n        header=\\\"Select Date\\\" (dateSelected)=\\\"donDatePicked($event)\\\">\\n        <mdb-icon fas icon=\\\"calendar-alt mr-2\\\" size=\\\"lg\\\" class=\\\"calendar\\\" alt=\\\"date\\\"></mdb-icon> <span appDateTransform [date]=\\\"donationDate.format('YYYY-MM-DD')\\\"></span>\\n      </button>\\n      </mdb-card-header>\\n      <mdb-card-body class=\\\"py-2\\\">\\n        <form #donationForm=\\\"ngForm\\\">\\n        <div class=\\\"modal-content\\\">\\n          <div class=\\\"modal-body\\\">\\n            <div class=\\\"left-section\\\">\\n                <div class=\\\"md-form\\\">\\n                  <input type=\\\"text\\\" id=\\\"name\\\" name=\\\"name\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"donation.name\\\" mdbInput mdbValidate\\n                    [validateSuccess]=\\\"false\\\" #name=\\\"ngModel\\\" required>\\n                  <label for=\\\"name\\\">Name</label>\\n                  <mdb-error *ngIf=\\\"name && name.invalid && (name.dirty || name.touched)\\\">Name is required</mdb-error>\\n                </div>\\n        \\n                <div class=\\\"btn-toolbar star-container\\\" role=\\\"toolbar\\\" aria-label=\\\"Toolbar with button groups\\\">\\n                  <div class=\\\"md-form hidden\\\">\\n                    <input type=\\\"text\\\" id=\\\"star\\\" name=\\\"star\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"donation.nakshatram\\\" mdbInput mdbValidate\\n                      [validateSuccess]=\\\"false\\\" #star=\\\"ngModel\\\" required>\\n                    <label for=\\\"star\\\">Star</label>\\n                  </div>\\n                  <div class=\\\"btn-group mr-2\\\" role=\\\"group\\\" aria-label=\\\"First group\\\">\\n                      <button (click)=\\\"selectStar(star)\\\"\\n                      *ngFor=\\\"let star of starSigns\\\" mdbBtn type=\\\"button\\\" color=\\\"grey\\\" [outline]=\\\"star !== donation.nakshatram\\\" [class.selected]=\\\"star === donation.nakshatram\\\"\\n                       mdbWavesEffect>{{star}}</button>\\n                  </div>\\n                </div>\\n                <div class=\\\"md-form\\\">\\n                  <textarea required type=\\\"text\\\" id=\\\"address\\\" name=\\\"address\\\" class=\\\"md-textarea form-control\\\" #address=\\\"ngModel\\\"\\n                    [(ngModel)]=\\\"donation.address\\\" mdbInput mdbValidate [validateSuccess]=\\\"false\\\"></textarea>\\n                  <label for=\\\"address\\\">Address</label>\\n                </div>\\n          \\n              \\n            </div>\\n            <div class=\\\"right-section\\\">\\n              <mdb-card class=\\\"text-center\\\">\\n                <mdb-card-body>\\n                  <div class=\\\"md-form phone\\\">\\n                    <input type=\\\"number\\\" id=\\\"phone\\\" name=\\\"phone\\\" class=\\\"form-control\\\" #phone=\\\"ngModel\\\" [(ngModel)]=\\\"donation.phone_number\\\" mdbInput mdbValidate\\n                      [validateSuccess]=\\\"false\\\" required>\\n                    <label for=\\\"phone\\\">Phone Number</label>\\n                    <mdb-error *ngIf=\\\"phone && phone.invalid && (phone.dirty || phone.touched)\\\">phone number is required</mdb-error>\\n                  </div>\\n                  <div class=\\\"text-lg mt-4 amount\\\">\\n                    <label for=\\\"amount\\\" class=\\\"grey-text\\\">Amount</label>\\n                    <div class=\\\"md-form mt-0\\\">\\n                      <span class=\\\"d-flex\\\">\\n                        <span class=\\\"price\\\">&#x20B9;</span>\\n                        <input type=\\\"number\\\" class=\\\"form-control price\\\" id=\\\"amount\\\" name=\\\"amount\\\" [(ngModel)]=\\\"donation.amount\\\" #amount=\\\"ngModel\\\" mdbValidate [validateSuccess]=\\\"false\\\" required>\\n                      </span>\\n                      <mdb-error class=\\\"ml-3\\\" *ngIf=\\\"amount && amount.invalid && (amount.dirty || amount.touched)\\\">Amount is required</mdb-error>\\n                    </div>\\n                  </div>\\n                </mdb-card-body>\\n              </mdb-card>\\n            </div>\\n          </div>\\n       \\n\\n        </div>\\n      </form>\\n      </mdb-card-body>\\n      <mdb-card-footer class=\\\"modal-footer\\\">\\n          <div class=\\\"d-flex\\\">\\n            <button type=\\\"button\\\" mdbBtn class=\\\"waves-light\\\" aria-label=\\\"Close\\\" (click)=\\\"resetForm()\\\"\\n              mdbWavesEffect>Clear</button>\\n            <button type=\\\"button\\\" mdbBtn color=\\\"success\\\" [disabled]=\\\"donationForm.invalid\\\" class=\\\"relative waves-light\\\" mdbWavesEffect (click)=\\\"onSave()\\\">Save\\n              changes</button>\\n          </div>\\n      </mdb-card-footer>\\n    </mdb-card>\\n    \\n  </div>\\n  <div class=\\\"right-section\\\">\\n    <app-right-card [header]=\\\"'Todays Donations'\\\" >\\n      <div class=\\\"card-header bg-primary white-text\\\">\\n        <span class=\\\"icon-button\\\" (click)=\\\"prevDate()\\\">\\n          <mdb-icon *ngIf=\\\"isManager$ | async\\\" fas icon=\\\"chevron-left\\\" class=\\\"ml-1 float-left delete cursor-pointer white-text\\\" alt=\\\"Left\\\"></mdb-icon>\\n        </span>\\n        <span>\\n          Donations on \\n          <button mdbWavesEffect mdbBtn type=\\\"button\\\" rounded=\\\"true\\\" color=\\\"white\\\" class=\\\"pull-right text-lg btn-primary\\\" rrDatePicker [date]=\\\"defaultDate\\\" [endDate]=\\\"defaultDate\\\"\\n          (click)=\\\"dateClicked($event)\\\" header=\\\"Select Date\\\" (dateSelected)=\\\"datePicked($event)\\\">\\n            <mdb-icon fas icon=\\\"calendar-alt mr-2\\\" size=\\\"lg\\\" class=\\\"calendar\\\" alt=\\\"date\\\"></mdb-icon> {{ formattedDate }}\\n          </button>\\n        </span>\\n        <span class=\\\"icon-button\\\" (click)=\\\"nextDate()\\\">\\n          <mdb-icon *ngIf=\\\"(isManager$ | async) && selectedDate.format('DD/MM/YYYY') !== defaultDate.format('DD/MM/YYYY')\\\" mdbtn fas icon=\\\"chevron-right\\\" class=\\\"ml-1 float-right delete cursor-pointer white-text\\\" alt=\\\"Right\\\"></mdb-icon>\\n        </span>\\n      </div>\\n      <div *ngIf=\\\"isLoading$ | async\\\" class=\\\"d-flex justify-content-center align-items-center\\\">\\n        <div class=\\\"spinner-grow text-primary\\\" role=\\\"status\\\" style=\\\"width: 4rem; height: 4rem;\\\">\\n          <span class=\\\"sr-only\\\">Loading...</span>\\n        </div>\\n      </div>\\n      <table mdbTable small=\\\"true\\\" striped=\\\"true\\\" *ngIf=\\\"!(isLoading$ | async) && todaysDonationList.length > 0\\\">\\n        <thead>\\n          <tr>\\n            <th>Name</th>\\n            <th>nakshatram</th>\\n            <th>Amount</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr *ngFor=\\\"let item of todaysDonationList\\\">\\n            <td scope=\\\"row\\\">{{ item?.name }}</td>\\n            <td>{{ item?.nakshatram }}</td>\\n            <td class=\\\"table-price\\\">&#x20B9;{{ item?.amount }}\\n              <mdb-icon *ngIf=\\\"isManager$ | async\\\" fas icon=\\\"trash\\\" class=\\\"ml-1 float-right delete grey-text\\\" (click)=\\\"onDelete(item?.uuid)\\\" alt=\\\"Delete\\\"></mdb-icon>\\n            </td>\\n          </tr>\\n\\n          <tr>\\n          </tr>\\n        </tbody>\\n      </table>\\n      <div role=\\\"footer\\\" *ngIf=\\\"!(isLoading$ | async)\\\">\\n        <div class=\\\"card-footer text-muted\\\">\\n          Total: <b class=\\\"price total-amount\\\">&#x20B9;{{getTotalAmount()}}</b>\\n        </div>\\n      </div>\\n    </app-right-card>\\n  </div>\\n</app-split-body>\\n\\n\"","export default \".justify-space-between {\\n  justify-content: space-between;\\n}\\n\\n.card-header {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n\\n.card-body {\\n  padding: 0 1.25rem;\\n}\\n\\n.amount {\\n  display: flex;\\n  align-items: flex-start;\\n  flex-direction: column;\\n}\\n\\n.star-container .hidden {\\n  display: none;\\n}\\n\\n.star-container .btn-group {\\n  display: inline-block;\\n}\\n\\n.star-container .btn-group button {\\n  padding: 5px;\\n}\\n\\n.star-container .btn-group button.selected {\\n  background-color: darkgreen;\\n  border: 1px solid darkgreen;\\n  color: white;\\n  font-weight: bold;\\n  padding: 20px;\\n}\\n\\n#address {\\n  height: 20px;\\n}\\n\\n.modal-body {\\n  overflow: auto;\\n  display: flex;\\n  max-height: 65vh;\\n}\\n\\n.modal-body .left-section {\\n  width: 50%;\\n}\\n\\n.modal-body .right-section {\\n  width: 50%;\\n  padding: 10px 20px;\\n}\\n\\n@media only screen and (max-width: 768px) {\\n  .modal-body {\\n    flex-direction: column;\\n  }\\n  .modal-body .left-section {\\n    width: 100%;\\n  }\\n  .modal-body .right-section {\\n    width: 100%;\\n  }\\n}\\n\\n@media only screen and (max-height: 500px) {\\n  .modal-body {\\n    max-height: 45vh !important;\\n  }\\n}\\n\\n.modal-footer {\\n  justify-content: space-between;\\n}\\n\\n.delete {\\n  cursor: pointer;\\n}\\n\\n.datepicker {\\n  position: absolute;\\n  right: 20px;\\n}\\n\\n.datepicker button {\\n  font-size: large;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL3N0b3JlL2NvZGUvQXVkaXQtVUktQW5ndWxhci9zcmMvYXBwL2RvbmF0aW9ucy9jb250YWluZXJzL2RvbmF0aW9ucy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZG9uYXRpb25zL2NvbnRhaW5lcnMvZG9uYXRpb25zLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksOEJBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtFQUNBLHVCQUFBO0VBQ0Esc0JBQUE7QUNDSjs7QURJSTtFQUNJLGFBQUE7QUNEUjs7QURHSTtFQUNJLHFCQUFBO0FDRFI7O0FERVE7RUFDSSxZQUFBO0FDQVo7O0FER1E7RUFDSSwyQkFBQTtFQUNBLDJCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtBQ0RaOztBRE1BO0VBQ0ksWUFBQTtBQ0hKOztBRE1BO0VBQ0ksY0FBQTtFQUNBLGFBQUE7RUFDQSxnQkFBQTtBQ0hKOztBREtJO0VBQ0ksVUFBQTtBQ0hSOztBREtJO0VBQ0ksVUFBQTtFQUNBLGtCQUFBO0FDSFI7O0FETUk7RUFiSjtJQWNRLHNCQUFBO0VDSE47RURJTTtJQUNJLFdBQUE7RUNGVjtFRElNO0lBQ0ksV0FBQTtFQ0ZWO0FBQ0Y7O0FET0E7RUFDSTtJQUNJLDJCQUFBO0VDSk47QUFDRjs7QURPQTtFQUNJLDhCQUFBO0FDTEo7O0FEU0E7RUFDSSxlQUFBO0FDTko7O0FEUUE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7QUNMSjs7QURNSTtFQUNJLGdCQUFBO0FDSlIiLCJmaWxlIjoic3JjL2FwcC9kb25hdGlvbnMvY29udGFpbmVycy9kb25hdGlvbnMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuanVzdGlmeS1zcGFjZS1iZXR3ZWVuIHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbi5jYXJkLWhlYWRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbiAgIFxuLmNhcmQtYm9keSB7XG4gICAgcGFkZGluZzogMCAxLjI1cmVtO1xufVxuXG4uYW1vdW50IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5cbi5zdGFyLWNvbnRhaW5lciB7XG5cbiAgICAuaGlkZGVuIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLmJ0bi1ncm91cCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDVweDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1dHRvbi5zZWxlY3RlZCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrZ3JlZW47XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBkYXJrZ3JlZW47XG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiNhZGRyZXNzIHtcbiAgICBoZWlnaHQ6IDIwcHg7XG59XG5cbi5tb2RhbC1ib2R5IHtcbiAgICBvdmVyZmxvdzogYXV0bztcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1heC1oZWlnaHQ6IDY1dmg7XG4gIFxuICAgIC5sZWZ0LXNlY3Rpb24ge1xuICAgICAgICB3aWR0aDogNTAlO1xuICAgIH1cbiAgICAucmlnaHQtc2VjdGlvbiB7XG4gICAgICAgIHdpZHRoOiA1MCU7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICB9XG5cbiAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIC5sZWZ0LXNlY3Rpb24ge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgLnJpZ2h0LXNlY3Rpb24ge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICB9XG4gICAgfVxuXG4gICAgXG59XG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtaGVpZ2h0OiA1MDBweCkge1xuICAgIC5tb2RhbC1ib2R5IHtcbiAgICAgICAgbWF4LWhlaWdodDogNDV2aCAhaW1wb3J0YW50O1xuICAgIH1cbn1cblxuLm1vZGFsLWZvb3RlciB7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG5cbi5kZWxldGUge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5kYXRlcGlja2VyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDIwcHg7XG4gICAgYnV0dG9uIHtcbiAgICAgICAgZm9udC1zaXplOiBsYXJnZTtcbiAgICB9XG59IiwiLmp1c3RpZnktc3BhY2UtYmV0d2VlbiB7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuLmNhcmQtaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4uY2FyZC1ib2R5IHtcbiAgcGFkZGluZzogMCAxLjI1cmVtO1xufVxuXG4uYW1vdW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5cbi5zdGFyLWNvbnRhaW5lciAuaGlkZGVuIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cbi5zdGFyLWNvbnRhaW5lciAuYnRuLWdyb3VwIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuLnN0YXItY29udGFpbmVyIC5idG4tZ3JvdXAgYnV0dG9uIHtcbiAgcGFkZGluZzogNXB4O1xufVxuLnN0YXItY29udGFpbmVyIC5idG4tZ3JvdXAgYnV0dG9uLnNlbGVjdGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogZGFya2dyZWVuO1xuICBib3JkZXI6IDFweCBzb2xpZCBkYXJrZ3JlZW47XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHBhZGRpbmc6IDIwcHg7XG59XG5cbiNhZGRyZXNzIHtcbiAgaGVpZ2h0OiAyMHB4O1xufVxuXG4ubW9kYWwtYm9keSB7XG4gIG92ZXJmbG93OiBhdXRvO1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXgtaGVpZ2h0OiA2NXZoO1xufVxuLm1vZGFsLWJvZHkgLmxlZnQtc2VjdGlvbiB7XG4gIHdpZHRoOiA1MCU7XG59XG4ubW9kYWwtYm9keSAucmlnaHQtc2VjdGlvbiB7XG4gIHdpZHRoOiA1MCU7XG4gIHBhZGRpbmc6IDEwcHggMjBweDtcbn1cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLm1vZGFsLWJvZHkge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIH1cbiAgLm1vZGFsLWJvZHkgLmxlZnQtc2VjdGlvbiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbiAgLm1vZGFsLWJvZHkgLnJpZ2h0LXNlY3Rpb24ge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC1oZWlnaHQ6IDUwMHB4KSB7XG4gIC5tb2RhbC1ib2R5IHtcbiAgICBtYXgtaGVpZ2h0OiA0NXZoICFpbXBvcnRhbnQ7XG4gIH1cbn1cbi5tb2RhbC1mb290ZXIge1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbi5kZWxldGUge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5kYXRlcGlja2VyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMjBweDtcbn1cbi5kYXRlcGlja2VyIGJ1dHRvbiB7XG4gIGZvbnQtc2l6ZTogbGFyZ2U7XG59Il19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { MDBModalRef, MDBModalService } from 'angular-bootstrap-md';\nimport { Observable, Subject } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { starSigns } from 'src/app/poojas/models/poojas.model';\nimport { isManager } from '../../auth/store/auth.selectors';\nimport { AppState } from 'src/app/reducers';\nimport { ConfirmModalComponent } from 'src/app/shared/components/confirm-modal/confirm-modal.component';\nimport { Donations } from '../models/donations.model';\nimport { getDonations, getIsLoading } from '../store/donations.selectors';\nimport * as fromDonations from '../store/donations.actions';\n\n\nvar moment = require('../../../assets/datepicker/moment.js');\n\n@Component({\n  selector: 'app-donations',\n  templateUrl: './donations.component.html',\n  styleUrls: ['./donations.component.scss']\n})\nexport class DonationsComponent implements OnInit {\n  @ViewChild('donationForm', { static: true }) donationForm: NgForm;\n\n\n  isManager$: Observable<boolean>;\n  isLoading$: Observable<boolean>;\n\n  donationDate = moment();\n  defaultDate = moment();\n  startDate = moment().subtract(60, 'days');\n  endDate = moment().add('30', 'days');\n  selectedDate = moment();\n\n  donation: any = {\n    ist_YYYYMMDD: moment().format('YYYY-MM-DD')\n  };\n  expenseData: Subject<any> = new Subject();\n  heading: string;\n  price: number;\n  starSigns = starSigns;\n  private modalRef: MDBModalRef;\n\n  todaysDonationList: Donations[] = [];\n\n\n  modalConfig = {\n    class: 'modal-dialog-centered'\n  };\n\n  get formattedDate() {\n    return this.selectedDate.format('dddd DD/MM/YYYY');\n  }\n\n  constructor(\n    private store: Store<AppState>,\n    private modalService: MDBModalService\n\n  ) { }\n\n  ngOnInit(): void {\n    this.store.select(getDonations).subscribe((exp: Donations[]) => {\n      this.todaysDonationList = exp;\n    });\n    this.isLoading$ = this.store.select(getIsLoading);\n    this.isManager$ = this.store.select(isManager);\n    this.store.dispatch(new fromDonations.DonationsQuery(this.selectedDate.format('YYYY-MM-DD')));\n  }\n\n  dateClicked(date: any) {\n    console.log(date);\n  }\n\n  donDatePicked(date: any) {\n    this.donationDate = date;\n    this.donation.ist_YYYYMMDD = date.format('YYYY-MM-DD');\n  }\n\n  datePicked(date: any) {\n    this.selectedDate = date;\n    this.store.dispatch(new fromDonations.DonationsQuery(date.format('YYYY-MM-DD')));\n  }\n\n  prevDate() {\n    this.datePicked(this.selectedDate.subtract('1', 'days'));\n  }\n\n  nextDate() {\n    this.datePicked(this.selectedDate.add('1', 'days'));\n  }\n\n  onSave() {\n    this.store.dispatch(new fromDonations.DonationsAddQuery(this.donation));\n    this.resetForm();\n  }\n  \n  getTotalAmount() {\n    if (this.todaysDonationList && this.todaysDonationList.length > 0) {\n      return this.todaysDonationList.reduce(((prev, current: any) => +(current.cost) + prev), 0);\n    }\n    return '0';\n  }\n  \n  selectStar(star: string) {\n    this.donation.nakshatram = star;\n  }\n\n  resetForm() {\n    this.donationForm.reset(); \n    this.donation = {\n      ist_YYYYMMDD: moment().format('YYYY-MM-DD')\n    }\n    this.selectedDate = moment();\n    this.donationDate = moment();\n  }\n\n  onDelete(uuid: string) {\n    this.modalRef = this.modalService.show(\n      ConfirmModalComponent,\n      this.modalConfig\n    );\n\n    this.modalRef.content.confirmation\n      .pipe(take(1))\n      .subscribe((confirmation: boolean) => {\n        if (confirmation) {\n          this.store.dispatch(new fromDonations.DonationsDeleted({ uuid: uuid }));\n        }\n      });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { DonationsComponent } from './containers/donations.component';\n\nconst routes: Routes = [{ path: '', component: DonationsComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DonationsRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DonationsRoutingModule } from './donations-routing.module';\nimport { DonationsComponent } from './containers/donations.component';\nimport { FormsModule } from '@angular/forms';\nimport { ButtonsModule, InputsModule, TableModule, IconsModule, ModalModule, CardsModule, InputUtilitiesModule } from 'angular-bootstrap-md';\n\nimport * as fromDonations from './store/donations.reducer';\nimport { StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\nimport { DonationsEffects } from './store/donations.effects';\nimport { CoreModule } from '../core/core.module';\nimport { SharedModule } from '../shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DonationsRoutingModule,\n    ModalModule,\n    FormsModule,\n    ButtonsModule,\n    InputUtilitiesModule,\n    InputsModule,\n    IconsModule,\n    TableModule,\n    CoreModule,\n    SharedModule,\n    CardsModule,\n    StoreModule.forFeature('donations', fromDonations.DonationsReducer),\n    EffectsModule.forFeature([DonationsEffects])\n  ],\n  declarations: [DonationsComponent],\n  exports: [DonationsComponent]\n})\nexport class DonationsModule { }\n","import { Injectable } from '@angular/core';\nimport { Donations } from '../models/donations.model';\nimport { of } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DonationsService {\n\n  constructor(private http: HttpClient) { }\n\n  get userId() {\n    return 'uid';\n  }\n\n  addDonations(expenses: Donations) {\n    return this.http.post(\n      `${environment.apiUrl}?api=addDonation`, { \n        ...expenses }\n    );\n  }\n\n  get(request: any) {\n    return this.http.get(\n      `${environment.apiUrl}?api=listDonations`, \n      {\n        params: {\n        'ist_YYYYMMDD': request.payload\n        }\n      }\n    );\n  }\n\n  update(expenses: Donations, userId: string) {\n    return of([expenses, userId]);\n\n  }\n\n  deleteExpense(uuId: string) {\n    return this.http.post(\n      `${environment.apiUrl}?api=deleteExpense`, { \n        'uuid': uuId   \n      }\n    );\n  }\n}\n","import { Action } from '@ngrx/store';\nimport { Donations } from '../models/donations.model';\n\nexport enum DonationsActionTypes {\n  DONATIONS_QUERY = '[Donations] Query',\n  DONATIONS_LOADED = '[Donations] Fetched',\n\n  DONATIONS_ADD_QUERY = '[Donations] Added',\n  DONATIONS_EDITED = '[Donations] Edited',\n  DONATIONS_DELETED = '[Donations] Deleted',\n\n  DONATIONS_ERROR = '[Donations] Error'\n}\n\nexport class DonationsQuery implements Action {\n  readonly type = DonationsActionTypes.DONATIONS_QUERY;\n\n  constructor(public payload: { date: any }) {}\n}\n\nexport class DonationsLoaded implements Action {\n  readonly type = DonationsActionTypes.DONATIONS_LOADED;\n\n  constructor(public payload: { donations: Donations[] }) {}\n}\n\nexport class DonationsAddQuery implements Action {\n  readonly type = DonationsActionTypes.DONATIONS_ADD_QUERY;\n\n  constructor(public payload: { donations: Donations }) {}\n}\n\nexport class DonationsEdited implements Action {\n  readonly type = DonationsActionTypes.DONATIONS_EDITED;\n\n  constructor(public payload: { donations: Donations }) {}\n}\n\nexport class DonationsDeleted implements Action {\n  readonly type = DonationsActionTypes.DONATIONS_DELETED;\n\n  constructor(public payload: { uuid: string }) {}\n}\n\nexport class DonationsError implements Action {\n  readonly type = DonationsActionTypes.DONATIONS_ERROR;\n\n  constructor(public payload: { error: any }) {}\n}\n\nexport type DonationsActions =\n  | DonationsQuery\n  | DonationsLoaded\n  | DonationsAddQuery\n  | DonationsEdited\n  | DonationsDeleted\n  | DonationsError;\n","import { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { DonationsService } from '../services/donations.service';\nimport { DonationsActionTypes } from './donations.actions';\nimport { switchMap, map, catchError, withLatestFrom } from 'rxjs/operators';\n\nimport * as fromDonations from './donations.actions';\nimport { of } from 'rxjs';\nimport { Store, select } from '@ngrx/store';\nimport { AppState } from '../../reducers/index';\nimport { getUser } from '../../auth/store/auth.selectors';\n\nvar moment = require('../../../assets/datepicker/moment.js');\n@Injectable()\nexport class DonationsEffects {\n\n  constructor(private actions$: Actions, private donationsService: DonationsService, private store: Store<AppState>) {}\n\n  \n  @Effect()\n  query$ = this.actions$.pipe(\n    ofType(DonationsActionTypes.DONATIONS_QUERY),\n    switchMap((payload: any) => this.donationsService.get(payload)\n      .pipe(\n        map((data: any) => {\n          return (new fromDonations.DonationsLoaded({ donations: data.donationsList }));\n        }),\n        catchError(error => {\n          return of(new fromDonations.DonationsError({ error }));\n        })\n      )\n    ),\n  );\n\n  @Effect()\n  added$ = this.actions$.pipe(\n    ofType(DonationsActionTypes.DONATIONS_ADD_QUERY),\n    map((action: fromDonations.DonationsAddQuery) => action.payload),\n    switchMap((payload: any) => this.donationsService.addDonations(payload)\n    .pipe(\n      (map(() => {\n        return (new fromDonations.DonationsQuery(moment().format('YYYY-MM-DD')));\n      })),\n      catchError(error => {\n        return of(new fromDonations.DonationsError({ error }));\n      })\n    ))\n  );\n\n  @Effect()\n  edit$ = this.actions$.pipe(\n    ofType(DonationsActionTypes.DONATIONS_EDITED),\n    map((action: fromDonations.DonationsEdited) => action.payload),\n    withLatestFrom(this.store.pipe(select(getUser))),\n    switchMap(([payload, user]: any) => this.donationsService.update(payload.customer, user.temple_code)\n    .pipe(\n      catchError( error => {\n      return of(new fromDonations.DonationsError({ error }));\n    }))\n    )\n  );\n\n  @Effect()\n  delete$ = this.actions$.pipe(\n    ofType(DonationsActionTypes.DONATIONS_DELETED),\n    map((action: fromDonations.DonationsDeleted) => action.payload),\n    withLatestFrom(this.store.pipe(select(getUser))),\n    switchMap(([payload]: any) => this.donationsService.deleteExpense(payload.uuid)\n    .pipe(\n      (map(() => {\n        return (new fromDonations.DonationsQuery(moment().format('YYYY-MM-DD')));\n      })),\n      catchError(error => {\n        return of(new fromDonations.DonationsError({ error }));\n      })\n    ))\n  );\n}\n","import { DonationsInitialState, DonationsState } from './donations.state';\nimport { DonationsActions, DonationsActionTypes } from './donations.actions';\n\nexport function DonationsReducer(state = DonationsInitialState, action: DonationsActions): DonationsState {\n  switch (action.type) {\n\n    case DonationsActionTypes.DONATIONS_QUERY: {\n      return Object.assign({}, state, {\n        isLoading: true,\n      });\n    }\n    case DonationsActionTypes.DONATIONS_ADD_QUERY: {\n      return Object.assign({}, state, {\n        isLoading: true,\n      });\n    }\n\n    case DonationsActionTypes.DONATIONS_LOADED: {\n      return Object.assign({}, state, {\n        Donations: action.payload.donations,\n        isLoading: false,\n      });\n    }\n\n    case DonationsActionTypes.DONATIONS_ERROR: {\n      return Object.assign({}, state, {\n        isLoading: false,\n        error: action.payload.error\n      });\n    }\n\n    default:\n      return state;\n  }\n}\n","import { createSelector, createFeatureSelector } from '@ngrx/store';\nimport { DonationsState } from './donations.state';\n\nexport const getDonationsState = createFeatureSelector<DonationsState>('donations');\n\nexport const getDonations = createSelector(\n  getDonationsState,\n  donations => donations.donations\n);\n\nexport const getIsLoading = createSelector(\n  getDonationsState,\n  donations => donations.isLoading\n);\n\nexport const getError = createSelector(\n  getDonationsState,\n  donations => donations.error\n);\n","import { Donations } from '../models/donations.model';\n\nexport interface DonationsState {\n    donations: Donations[] | null;\n    isLoading: boolean;\n    error: any;\n}\n\nexport const DonationsInitialState: DonationsState = {\n    donations: [],\n    isLoading: true,\n    error: null\n};\n"],"sourceRoot":"webpack:///"}