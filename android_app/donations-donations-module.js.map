{"version":3,"sources":["./src/app/donations/containers/donations.component.html","./src/app/donations/containers/donations.component.scss","./src/app/donations/containers/donations.component.ts","./src/app/donations/donations-routing.module.ts","./src/app/donations/donations.module.ts","./src/app/donations/services/donations.service.ts","./src/app/donations/store/donations.actions.ts","./src/app/donations/store/donations.effects.ts","./src/app/donations/store/donations.reducer.ts","./src/app/donations/store/donations.selectors.ts","./src/app/donations/store/donations.state.ts"],"names":[],"mappings":"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","file":"donations-donations-module.js","sourcesContent":["export default \"<app-split-body [isLoading$]=\\\"!isLoading$\\\">\\r\\n  <div class=\\\"left-section\\\">\\r\\n    <mdb-card>\\r\\n      <mdb-card-header class=\\\"w-100 d-flex justify-space-between bg-primary white-text\\\">\\r\\n        <div>\\r\\n          <blockquote class=\\\"text-left  blockquote bq-success\\\">\\r\\n            <h3 class=\\\"header\\\">Add Donations</h3>\\r\\n            <p class=\\\"py-0\\\" *ngIf=\\\"donationForm.valid\\\">Adding a donation of <span class=\\\"price\\\">&#x20B9;{{donationForm?.value.amount}}</span> from {{donationForm?.value.name}}</p>\\r\\n          </blockquote>\\r\\n        </div>\\r\\n        <button mdbWavesEffect mdbBtn type=\\\"button\\\" rounded=\\\"true\\\" color=\\\"white\\\" class=\\\"pull-right text-lg btn-primary\\\" rrDatePicker [date]=\\\"defaultDate\\\" [endDate]=\\\"endDate\\\"\\r\\n        (click)=\\\"dateClicked($event)\\\" header=\\\"Select Date\\\" (dateSelected)=\\\"datePicked($event)\\\">\\r\\n        <mdb-icon fas icon=\\\"calendar-alt mr-2\\\" size=\\\"lg\\\" class=\\\"calendar\\\" alt=\\\"date\\\"></mdb-icon> {{ selectedDate }}\\r\\n      </button>\\r\\n      </mdb-card-header>\\r\\n      <mdb-card-body class=\\\"py-2\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n          <form #donationForm=\\\"ngForm\\\">\\r\\n          <div class=\\\"modal-body\\\">\\r\\n            <div class=\\\"left-section\\\">\\r\\n                <div class=\\\"md-form\\\">\\r\\n                  <input type=\\\"text\\\" id=\\\"name\\\" name=\\\"name\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"donation.name\\\" mdbInput mdbValidate\\r\\n                    [validateSuccess]=\\\"false\\\" #name=\\\"ngModel\\\" required>\\r\\n                  <label for=\\\"name\\\">Name</label>\\r\\n                  <mdb-error *ngIf=\\\"name && name.invalid && (name.dirty || name.touched)\\\">Name is required</mdb-error>\\r\\n                </div>\\r\\n        \\r\\n                <div class=\\\"btn-toolbar star-container\\\" role=\\\"toolbar\\\" aria-label=\\\"Toolbar with button groups\\\">\\r\\n                  <div class=\\\"md-form hidden\\\">\\r\\n                    <input type=\\\"text\\\" id=\\\"star\\\" name=\\\"star\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"donation.star\\\" mdbInput mdbValidate\\r\\n                      [validateSuccess]=\\\"false\\\" #star=\\\"ngModel\\\">\\r\\n                    <label for=\\\"star\\\">Star</label>\\r\\n                  </div>\\r\\n                  <div class=\\\"btn-group mr-2\\\" role=\\\"group\\\" aria-label=\\\"First group\\\">\\r\\n                      <button (click)=\\\"selectStar(star)\\\"\\r\\n                      *ngFor=\\\"let star of starSigns\\\" mdbBtn type=\\\"button\\\" color=\\\"grey\\\" [outline]=\\\"star !== donation.star\\\" [class.selected]=\\\"star === donation.star\\\"\\r\\n                       mdbWavesEffect>{{star}}</button>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"md-form\\\">\\r\\n                  <textarea type=\\\"text\\\" id=\\\"address\\\" name=\\\"address\\\" class=\\\"md-textarea form-control\\\" #address=\\\"ngModel\\\"\\r\\n                    [(ngModel)]=\\\"donation.address\\\" mdbInput mdbValidate [validateSuccess]=\\\"false\\\"></textarea>\\r\\n                  <label for=\\\"address\\\">Address (Optional)</label>\\r\\n                </div>\\r\\n          \\r\\n              \\r\\n            </div>\\r\\n            <div class=\\\"right-section\\\">\\r\\n              <mdb-card class=\\\"text-center\\\">\\r\\n                <mdb-card-body>\\r\\n                  <div class=\\\"md-form phone\\\">\\r\\n                    <input type=\\\"number\\\" id=\\\"phone\\\" name=\\\"phone\\\" class=\\\"form-control\\\" #phone=\\\"ngModel\\\" [(ngModel)]=\\\"donation.phoneNumber\\\" mdbInput mdbValidate\\r\\n                      [validateSuccess]=\\\"false\\\">\\r\\n                    <label for=\\\"phone\\\">Phone Number(Optional)</label>\\r\\n                  </div>\\r\\n                  <div class=\\\"text-lg mt-4 amount\\\">\\r\\n                    <label for=\\\"amount\\\" class=\\\"grey-text\\\">Amount</label>\\r\\n                    <div class=\\\"md-form d-flex mt-0\\\">\\r\\n                      <span class=\\\"price\\\">&#x20B9;</span>\\r\\n                      <input type=\\\"number\\\" class=\\\"price\\\" id=\\\"amount\\\" name=\\\"amount\\\" [(ngModel)]=\\\"donation.amount\\\" #amount=\\\"ngModel\\\" required mdbValidate>\\r\\n                      <mdb-error *ngIf=\\\"amount && amount.invalid && (amount.dirty || amount.touched)\\\">Amount is required</mdb-error>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </mdb-card-body>\\r\\n              </mdb-card>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n\\r\\n        </div>\\r\\n      </mdb-card-body>\\r\\n      <mdb-card-footer class=\\\"modal-footer\\\">\\r\\n          <div class=\\\"d-flex\\\">\\r\\n            <button type=\\\"button\\\" mdbBtn class=\\\"waves-light\\\" aria-label=\\\"Close\\\" (click)=\\\"donationForm.reset()\\\"\\r\\n              mdbWavesEffect>Clear</button>\\r\\n            <button type=\\\"button\\\" mdbBtn color=\\\"success\\\" [disabled]=\\\"donationForm.invalid\\\" class=\\\"relative waves-light\\\" mdbWavesEffect (click)=\\\"onSave()\\\">Save\\r\\n              changes</button>\\r\\n    \\r\\n          </div>\\r\\n    \\r\\n      </mdb-card-footer>\\r\\n    </mdb-card>\\r\\n    \\r\\n  </div>\\r\\n  <div class=\\\"right-section\\\">\\r\\n    <app-right-card [header]=\\\"'Todays Donations'\\\">\\r\\n      <div class=\\\"card-header\\\">Todays Donations</div>\\r\\n      <table mdbTable small=\\\"true\\\" striped=\\\"true\\\">\\r\\n        <tbody>\\r\\n          <tr>\\r\\n            <th scope=\\\"row\\\">Name 1</th>\\r\\n            <td>Star 1</td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <th scope=\\\"row\\\">Name 2</th>\\r\\n            <td>Star 2</td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <th scope=\\\"row\\\">Name 3</th>\\r\\n            <td>Star 3</td>\\r\\n          </tr>\\r\\n        </tbody>\\r\\n      </table>\\r\\n    </app-right-card>\\r\\n\\r\\n    <!-- <div *ngIf=\\\"isLoading$ | async\\\" class=\\\"d-flex justify-content-center align-items-center\\\" style=\\\"margin-top: 200px\\\">\\r\\n      <div class=\\\"spinner-grow text-primary\\\" role=\\\"status\\\" style=\\\"width: 4rem; height: 4rem;\\\">\\r\\n        <span class=\\\"sr-only\\\">Loading...</span>\\r\\n      </div>\\r\\n    </div> -->\\r\\n  </div>\\r\\n</app-split-body>\\r\\n\\r\\n\"","export default \".justify-space-between {\\n  justify-content: space-between;\\n}\\n\\n.amount {\\n  display: flex;\\n  align-items: flex-start;\\n  flex-direction: column;\\n}\\n\\n.star-container .hidden {\\n  display: none;\\n}\\n\\n.star-container .btn-group {\\n  display: inline-block;\\n}\\n\\n.star-container .btn-group button {\\n  padding: 5px;\\n}\\n\\n.star-container .btn-group button.selected {\\n  background-color: darkgreen;\\n  border: 1px solid darkgreen;\\n  color: white;\\n  font-weight: bold;\\n  padding: 20px;\\n}\\n\\n#address {\\n  height: 20px;\\n}\\n\\n.modal-body {\\n  overflow: auto;\\n  display: flex;\\n  max-height: 65vh;\\n}\\n\\n.modal-body .left-section {\\n  width: 50%;\\n}\\n\\n.modal-body .right-section {\\n  width: 50%;\\n  padding: 10px 20px;\\n}\\n\\n@media only screen and (max-width: 768px) {\\n  .modal-body {\\n    flex-direction: column;\\n  }\\n  .modal-body .left-section {\\n    width: 100%;\\n  }\\n  .modal-body .right-section {\\n    width: 100%;\\n  }\\n}\\n\\n@media only screen and (max-height: 500px) {\\n  .modal-body {\\n    max-height: 45vh !important;\\n  }\\n}\\n\\n.modal-footer {\\n  justify-content: space-between;\\n}\\n\\n.phone {\\n  margin: 0;\\n}\\n\\n.delete {\\n  cursor: pointer;\\n}\\n\\n.datepicker {\\n  position: absolute;\\n  right: 20px;\\n}\\n\\n.datepicker button {\\n  font-size: large;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZG9uYXRpb25zL2NvbnRhaW5lcnMvQzpcXGdpdCBjb2RlXFxBdWRpdC1VSS1Bbmd1bGFyL3NyY1xcYXBwXFxkb25hdGlvbnNcXGNvbnRhaW5lcnNcXGRvbmF0aW9ucy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZG9uYXRpb25zL2NvbnRhaW5lcnMvZG9uYXRpb25zLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksOEJBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0FDQ0o7O0FESUk7RUFDSSxhQUFBO0FDRFI7O0FER0k7RUFDSSxxQkFBQTtBQ0RSOztBREVRO0VBQ0ksWUFBQTtBQ0FaOztBREdRO0VBQ0ksMkJBQUE7RUFDQSwyQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7QUNEWjs7QURNQTtFQUNJLFlBQUE7QUNISjs7QURNQTtFQUNJLGNBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7QUNISjs7QURLSTtFQUNJLFVBQUE7QUNIUjs7QURLSTtFQUNJLFVBQUE7RUFDQSxrQkFBQTtBQ0hSOztBRE1JO0VBYko7SUFjUSxzQkFBQTtFQ0hOO0VESU07SUFDSSxXQUFBO0VDRlY7RURJTTtJQUNJLFdBQUE7RUNGVjtBQUNGOztBRE9BO0VBQ0k7SUFDSSwyQkFBQTtFQ0pOO0FBQ0Y7O0FET0E7RUFDSSw4QkFBQTtBQ0xKOztBRFFBO0VBQ0ksU0FBQTtBQ0xKOztBRFFBO0VBQ0ksZUFBQTtBQ0xKOztBRE9BO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0FDSko7O0FES0k7RUFDSSxnQkFBQTtBQ0hSIiwiZmlsZSI6InNyYy9hcHAvZG9uYXRpb25zL2NvbnRhaW5lcnMvZG9uYXRpb25zLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmp1c3RpZnktc3BhY2UtYmV0d2VlbiB7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuXHJcbi5hbW91bnQge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuLnN0YXItY29udGFpbmVyIHtcclxuXHJcbiAgICAuaGlkZGVuIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG4gICAgLmJ0bi1ncm91cCB7XHJcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDVweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJ1dHRvbi5zZWxlY3RlZCB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtncmVlbjtcclxuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgZGFya2dyZWVuO1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuI2FkZHJlc3Mge1xyXG4gICAgaGVpZ2h0OiAyMHB4O1xyXG59XHJcblxyXG4ubW9kYWwtYm9keSB7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBtYXgtaGVpZ2h0OiA2NXZoO1xyXG4gIFxyXG4gICAgLmxlZnQtc2VjdGlvbiB7XHJcbiAgICAgICAgd2lkdGg6IDUwJTtcclxuICAgIH1cclxuICAgIC5yaWdodC1zZWN0aW9uIHtcclxuICAgICAgICB3aWR0aDogNTAlO1xyXG4gICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgIH1cclxuXHJcbiAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAubGVmdC1zZWN0aW9uIHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5yaWdodC1zZWN0aW9uIHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBcclxufVxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtaGVpZ2h0OiA1MDBweCkge1xyXG4gICAgLm1vZGFsLWJvZHkge1xyXG4gICAgICAgIG1heC1oZWlnaHQ6IDQ1dmggIWltcG9ydGFudDtcclxuICAgIH1cclxufVxyXG5cclxuLm1vZGFsLWZvb3RlciB7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuXHJcbi5waG9uZSB7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuXHJcbi5kZWxldGUge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcbi5kYXRlcGlja2VyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHJpZ2h0OiAyMHB4O1xyXG4gICAgYnV0dG9uIHtcclxuICAgICAgICBmb250LXNpemU6IGxhcmdlO1xyXG4gICAgfVxyXG59IiwiLmp1c3RpZnktc3BhY2UtYmV0d2VlbiB7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuLmFtb3VudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4uc3Rhci1jb250YWluZXIgLmhpZGRlbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4uc3Rhci1jb250YWluZXIgLmJ0bi1ncm91cCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbi5zdGFyLWNvbnRhaW5lciAuYnRuLWdyb3VwIGJ1dHRvbiB7XG4gIHBhZGRpbmc6IDVweDtcbn1cbi5zdGFyLWNvbnRhaW5lciAuYnRuLWdyb3VwIGJ1dHRvbi5zZWxlY3RlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IGRhcmtncmVlbjtcbiAgYm9yZGVyOiAxcHggc29saWQgZGFya2dyZWVuO1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBwYWRkaW5nOiAyMHB4O1xufVxuXG4jYWRkcmVzcyB7XG4gIGhlaWdodDogMjBweDtcbn1cblxuLm1vZGFsLWJvZHkge1xuICBvdmVyZmxvdzogYXV0bztcbiAgZGlzcGxheTogZmxleDtcbiAgbWF4LWhlaWdodDogNjV2aDtcbn1cbi5tb2RhbC1ib2R5IC5sZWZ0LXNlY3Rpb24ge1xuICB3aWR0aDogNTAlO1xufVxuLm1vZGFsLWJvZHkgLnJpZ2h0LXNlY3Rpb24ge1xuICB3aWR0aDogNTAlO1xuICBwYWRkaW5nOiAxMHB4IDIwcHg7XG59XG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC5tb2RhbC1ib2R5IHtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG4gIC5tb2RhbC1ib2R5IC5sZWZ0LXNlY3Rpb24ge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG4gIC5tb2RhbC1ib2R5IC5yaWdodC1zZWN0aW9uIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxufVxuXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtaGVpZ2h0OiA1MDBweCkge1xuICAubW9kYWwtYm9keSB7XG4gICAgbWF4LWhlaWdodDogNDV2aCAhaW1wb3J0YW50O1xuICB9XG59XG4ubW9kYWwtZm9vdGVyIHtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4ucGhvbmUge1xuICBtYXJnaW46IDA7XG59XG5cbi5kZWxldGUge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5kYXRlcGlja2VyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMjBweDtcbn1cbi5kYXRlcGlja2VyIGJ1dHRvbiB7XG4gIGZvbnQtc2l6ZTogbGFyZ2U7XG59Il19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Store } from '@ngrx/store';\r\nimport { MDBModalRef, MDBModalService } from 'angular-bootstrap-md';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\nimport { starSigns } from 'src/app/poojas/models/poojas.model';\r\nimport { AppState } from 'src/app/reducers';\r\nimport { ConfirmModalComponent } from 'src/app/shared/components/confirm-modal/confirm-modal.component';\r\nimport { getIsLoading } from '../store/donations.selectors';\r\nvar moment = require('../../../assets/datepicker/moment.js');\r\n\r\n@Component({\r\n  selector: 'app-donations',\r\n  templateUrl: './donations.component.html',\r\n  styleUrls: ['./donations.component.scss']\r\n})\r\nexport class DonationsComponent implements OnInit {\r\n  @ViewChild('donationForm', { static: true }) donationForm: NgForm;\r\n  \r\n  \r\n  isLoading$: Observable<boolean>;\r\n  defaultDate = moment();\r\n  startDate = moment();\r\n  endDate = moment().add('30', 'days');\r\n  selectedDate = moment().format('dddd DD/MM/YYYY');\r\n  donation: any = {};\r\n  expenseData: Subject<any> = new Subject();\r\n  heading: string;\r\n  price: number;\r\n  starSigns = starSigns;\r\n  private modalRef: MDBModalRef;\r\n\r\n  \r\n  modalConfig = {\r\n    class: 'modal-dialog-centered'\r\n  };\r\n\r\n  constructor(\r\n    private store: Store<AppState>,\r\n    private modalService: MDBModalService\r\n\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.isLoading$ = this.store.select(getIsLoading);\r\n    // this.donationForm.controls.date.setValue(this.defaultDate.format('dddd DD/MM/YYYY'));\r\n  }\r\n  \r\n  datePicked(date: any) {\r\n    this.donationForm.controls.date.setValue(date.format('dddd DD/MM/YYYY'));\r\n  }\r\n\r\n  dateClicked(date: any) {\r\n    console.log(date);\r\n  }\r\n\r\n  \r\n  onSave() {\r\n    if (this.donationForm.valid) {\r\n      this.openDonationConfirmModal();\r\n      //send to api\r\n    } else {\r\n      const controls = this.donationForm.controls;\r\n      Object.keys(controls).forEach(controlName => controls[controlName].markAsTouched());\r\n    }\r\n  }\r\n\r\n  selectStar(star: string) {\r\n    this.donation.star = star;\r\n  }\r\n  \r\n  openDonationConfirmModal() {\r\n    this.modalRef = this.modalService.show(\r\n      ConfirmModalComponent,\r\n      this.modalConfig\r\n    );\r\n\r\n    this.modalRef.content.confirmation\r\n      .pipe(take(1))\r\n      .subscribe((confirmation: boolean) => {\r\n        if (confirmation) {\r\n          //api to save conation\r\n        }\r\n      });\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DonationsComponent } from './containers/donations.component';\r\n\r\nconst routes: Routes = [{ path: '', component: DonationsComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class DonationsRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { DonationsRoutingModule } from './donations-routing.module';\r\nimport { DonationsComponent } from './containers/donations.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ButtonsModule, InputsModule, TableModule, IconsModule, ModalModule, CardsModule, InputUtilitiesModule } from 'angular-bootstrap-md';\r\n\r\nimport * as fromDonations from './store/donations.reducer';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { DonationsEffects } from './store/donations.effects';\r\nimport { CoreModule } from '../core/core.module';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    DonationsRoutingModule,\r\n    ModalModule,\r\n    FormsModule,\r\n    ButtonsModule,\r\n    InputUtilitiesModule,\r\n    InputsModule,\r\n    IconsModule,\r\n    TableModule,\r\n    CoreModule,\r\n    SharedModule,\r\n    CardsModule,\r\n    StoreModule.forFeature('donations', fromDonations.DonationsReducer),\r\n    EffectsModule.forFeature([DonationsEffects])\r\n  ],\r\n  declarations: [DonationsComponent],\r\n  exports: [DonationsComponent]\r\n})\r\nexport class DonationsModule { }\r\n","import { Injectable } from '@angular/core';\r\n// import { AngularFireDatabase } from '@angular/fire/database';\r\nimport { Donations } from '../models/donations.model';\r\nimport { of } from 'rxjs';\r\n// import { AngularFireAuth } from '@angular/fire/auth';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DonationsService {\r\n\r\n  constructor() { }\r\n\r\n  get userId() {\r\n    return 'uid';\r\n  }\r\n\r\n  add(donations: Donations, userId: string) {\r\n    return of([donations, userId]);\r\n\r\n  }\r\n\r\n  addDonations(donationss: Donations[]) {\r\n    return of(donationss);\r\n\r\n  }\r\n\r\n  get(userId: string) {\r\n    return of(userId);\r\n\r\n  }\r\n\r\n  update(donations: Donations, userId: string) {\r\n    return of([donations, userId]);\r\n\r\n  }\r\n\r\n  delete(donations: Donations, userId: string) {\r\n    return of([donations, userId]);\r\n\r\n  }\r\n}\r\n","import { Action } from '@ngrx/store';\r\nimport { Donations } from '../models/donations.model';\r\n\r\nexport enum DonationsActionTypes {\r\n  POOJAS_QUERY = '[Donations] Query',\r\n  POOJAS_LOADED = '[Donations] Fetched',\r\n\r\n  POOJAS_ADDED = '[Donations] Added',\r\n  POOJAS_EDITED = '[Donations] Edited',\r\n  POOJAS_DELETED = '[Donations] Deleted',\r\n\r\n  POOJAS_ERROR = '[Donations] Error'\r\n}\r\n\r\nexport class DonationsQuery implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_QUERY;\r\n}\r\n\r\nexport class DonationsLoaded implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_LOADED;\r\n\r\n  constructor(public payload: { Donations: Donations[] }) {}\r\n}\r\n\r\nexport class DonationsAdded implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_ADDED;\r\n\r\n  constructor(public payload: { donations: Donations }) {}\r\n}\r\n\r\nexport class DonationsEdited implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_EDITED;\r\n\r\n  constructor(public payload: { donations: Donations }) {}\r\n}\r\n\r\nexport class DonationsDeleted implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_DELETED;\r\n\r\n  constructor(public payload: { donations: Donations }) {}\r\n}\r\n\r\nexport class DonationsError implements Action {\r\n  readonly type = DonationsActionTypes.POOJAS_ERROR;\r\n\r\n  constructor(public payload: { error: any }) {}\r\n}\r\n\r\nexport type DonationsActions =\r\n  | DonationsQuery\r\n  | DonationsLoaded\r\n  | DonationsAdded\r\n  | DonationsEdited\r\n  | DonationsDeleted\r\n  | DonationsError;\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { DonationsService } from '../services/donations.service';\r\nimport { DonationsActionTypes } from './donations.actions';\r\nimport { switchMap, map, catchError, withLatestFrom } from 'rxjs/operators';\r\nimport { Donations } from '../models/donations.model';\r\n\r\nimport * as fromDonations from './donations.actions';\r\nimport { of } from 'rxjs';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { AppState } from '../../reducers/index';\r\nimport { getUser } from '../../auth/store/auth.selectors';\r\n\r\n@Injectable()\r\nexport class DonationsEffects {\r\n\r\n  constructor(private actions$: Actions, private donationsService: DonationsService, private store: Store<AppState>) {}\r\n\r\n  @Effect()\r\n  query$ = this.actions$.pipe(\r\n    ofType(DonationsActionTypes.POOJAS_QUERY),\r\n    withLatestFrom(this.store.pipe(select(getUser))),\r\n    switchMap(([, user]: any) => this.donationsService.get(user.temple)\r\n      .pipe(\r\n        map((data: any) => {\r\n          const DonationsData: Donations[] = data.map((res: any) => {\r\n            const key = res.payload.key;\r\n            const customer: Donations = res.payload.val();\r\n            return {\r\n              key: key,\r\n              id: customer.id,\r\n              name: customer.name,\r\n              description: customer.description\r\n            };\r\n          });\r\n          return (new fromDonations.DonationsLoaded({ Donations: DonationsData }));\r\n        }),\r\n        catchError(error => {\r\n          return of(new fromDonations.DonationsError({ error }));\r\n        })\r\n      )\r\n    ),\r\n  );\r\n\r\n  @Effect({ dispatch: false })\r\n  added$ = this.actions$.pipe(\r\n    ofType(DonationsActionTypes.POOJAS_ADDED),\r\n    map((action: fromDonations.DonationsAdded) => action.payload),\r\n    withLatestFrom(this.store.pipe(select(getUser))),\r\n    switchMap(([payload, user]: any) => this.donationsService.add(payload.customer, user.temple))\r\n  );\r\n\r\n  @Effect({ dispatch: false })\r\n  edit$ = this.actions$.pipe(\r\n    ofType(DonationsActionTypes.POOJAS_EDITED),\r\n    map((action: fromDonations.DonationsEdited) => action.payload),\r\n    withLatestFrom(this.store.pipe(select(getUser))),\r\n    switchMap(([payload, user]: any) => this.donationsService.update(payload.customer, user.temple)\r\n    .pipe(\r\n      catchError( error => {\r\n      return of(new fromDonations.DonationsError({ error }));\r\n    }))\r\n    )\r\n  );\r\n\r\n  @Effect({ dispatch: false })\r\n  delete$ = this.actions$.pipe(\r\n    ofType(DonationsActionTypes.POOJAS_DELETED),\r\n    map((action: fromDonations.DonationsDeleted) => action.payload),\r\n    withLatestFrom(this.store.pipe(select(getUser))),\r\n    switchMap(([payload, user]: any) => this.donationsService.delete(payload.customer, user.temple))\r\n  );\r\n}\r\n","import { DonationsInitialState, DonationsState } from './donations.state';\r\nimport { DonationsActions, DonationsActionTypes } from './donations.actions';\r\n\r\nexport function DonationsReducer(state = DonationsInitialState, action: DonationsActions): DonationsState {\r\n  switch (action.type) {\r\n\r\n    case DonationsActionTypes.POOJAS_QUERY: {\r\n      return Object.assign({}, state, {\r\n        isLoading: true,\r\n      });\r\n    }\r\n\r\n    case DonationsActionTypes.POOJAS_LOADED: {\r\n      return Object.assign({}, state, {\r\n        Donations: action.payload.Donations,\r\n        isLoading: false,\r\n      });\r\n    }\r\n\r\n    case DonationsActionTypes.POOJAS_ERROR: {\r\n      return Object.assign({}, state, {\r\n        isLoading: false,\r\n        error: action.payload.error\r\n      });\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createSelector, createFeatureSelector } from '@ngrx/store';\r\nimport { DonationsState } from './donations.state';\r\n\r\nexport const getDonationsState = createFeatureSelector<DonationsState>('donations');\r\n\r\nexport const getDonations = createSelector(\r\n  getDonationsState,\r\n  donations => donations.donations\r\n);\r\n\r\nexport const getIsLoading = createSelector(\r\n  getDonationsState,\r\n  donations => donations.isLoading\r\n);\r\n\r\nexport const getError = createSelector(\r\n  getDonationsState,\r\n  donations => donations.error\r\n);\r\n","import { Donations } from '../models/donations.model';\r\n\r\nexport interface DonationsState {\r\n    donations: Donations[] | null;\r\n    isLoading: boolean;\r\n    error: any;\r\n}\r\n\r\nexport const DonationsInitialState: DonationsState = {\r\n    donations: null,\r\n    isLoading: true,\r\n    error: null\r\n};\r\n"],"sourceRoot":"webpack:///"}